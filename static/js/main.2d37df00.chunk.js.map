{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/filters.js","components/SearchPage.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","tokenms","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","logline","user","logArray","push","text","start","normal","end","error","logEl","document","getElementById","scrollTop","scrollHeight","errors","store","localStorage","getItem","merge","JSON","parse","observe","setItem","stringify","nameFilter","playlists","nameOnes","others","i","length","playlist","owner","display_name","indexOf","concat","SearchPage","props","_useState","useState","_useState2","Object","slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","setPlaylists","_useState5","_useState6","offset","setOffset","_useState7","_useState8","playlistsToKeep","setPlaylistsToKeep","useEffect","console","addToList","e","playlistID","target","parentElement","style","opacity","toConsumableArray","searchTime","_searchTime","apply","this","arguments","asyncToGenerator","regenerator_default","a","mark","_callee2","playlistsTemp","nextLink","batchNum","_playlistsTemp","res","playlistsToShow","beans","wrap","_context2","prev","next","axios","get","headers","Authorization","Content-Type","sent","data","items","images","author","image","url","stop","getPlaylistsForExport","_ref","_callee","resultsArray","idArray","playlistId","apiURL","d","j","_context","status","external_urls","spotify","followers","t0","join","value","abrupt","resultCards","map","react_default","createElement","width","background","margin","padding","position","key","src","alt","onClick","playlistsToKeepElements","Container","fixed","marginTop","textAlign","TextField","label","variant","marginBottom","onChange","event","onKeyDown","display","flexDirection","flexWrap","borderRadius","Button","useStyles","makeStyles","theme","root","flexGrow","height","view","Date","now","tokenTimeout","setTokenTimout","tokenTimeoutInterval","setInterval","clear","_useAxios","useAxios","method","_useAxios2$","loading","components_SearchPage","LSTheme","createMuiTheme","palette","primary","main","secondary","App","_this","classCallCheck","_super","call","state","album","artists","duration_ms","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","className","Typography","component","textShadow","href","components_Main","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.2d37df00.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\nexport const redirectUri = \"http://localhost:3000/redirect\";\r\n// export const redirectUri = \"https://brandoshizzle.github.io/Playpaster/\";\r\nexport const scopes = [\"user-read-email\"];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from \"@risingstack/react-easy-state\";\r\nimport { observe } from \"@nx-js/observer-util\";\r\nimport merge from \"lodash/merge\";\r\n\r\nconst defaultUser = {\r\n\tname: \"\",\r\n\tid: \"\",\r\n\ttoken: \"\",\r\n\ttokenms: 0,\r\n\tallPlaylists: [],\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || \"normal\";\r\n\t\tconst colors = {\r\n\t\t\tstart: \"cornflowerblue\",\r\n\t\t\tnormal: \"#ddd\",\r\n\t\t\tend: \"lightgreen\",\r\n\t\t\terror: \"red\",\r\n\t\t};\r\n\t\tconst logline = \"> \" + newLine;\r\n\t\tuser.logArray.push({ text: logline, color: colors[textColor] });\r\n\t\tvar logEl = document.getElementById(\"logger\");\r\n\t\tlogEl.scrollTop = logEl.scrollHeight + 50;\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport function addPlaylist(playlistData) {\r\n\tuser.allPlaylists.push({\r\n\t\tid: playlistData.id,\r\n\t\tname: playlistData.name,\r\n\t\turl: playlistData.external_urls.spotify,\r\n\t\ttracks_endpoint: playlistData.tracks.href,\r\n\t\tdescription: decodeURIComponent(playlistData.description),\r\n\t\ttracks: playlistData.tracks,\r\n\t\talbumsString: playlistData.albumsString,\r\n\t\talbums: playlistData.albums,\r\n\t\tlastUpdated: playlistData.lastUpdated,\r\n\t\tduration: playlistData.duration,\r\n\t});\r\n}\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem(\"user\") != null\r\n\t\t? merge(defaultUser, JSON.parse(localStorage.getItem(\"user\")))\r\n\t\t: defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem(\"user\", JSON.stringify(user));\r\n});\r\n\r\nwindow.user = user;\r\n","export function nameFilter(playlists) {\r\n\tlet nameOnes = [];\r\n\tlet others = [];\r\n\tfor (var i = 0; i < playlists.length; i++) {\r\n\t\tconst playlist = playlists[i];\r\n\t\tconst name = playlist.owner.display_name;\r\n\t\t// Test for name to be two parts like a name\r\n\t\t// let twoParts = false;\r\n\t\tif (name === \"Spotify\") {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (name.indexOf(\" \") > -1) {\r\n\t\t\tnameOnes.push(playlist);\r\n\t\t} else {\r\n\t\t\tothers.push(playlist);\r\n\t\t}\r\n\t}\r\n\r\n\treturn [...nameOnes, ...others];\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport axios from \"axios\";\r\nimport { nameFilter } from \"./filters\";\r\n\r\n// function clearAnd\r\n\r\nconst SearchPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\r\n\tconst [playlists, setPlaylists] = useState([]);\r\n\tconst [offset, setOffset] = useState(0);\r\n\tconst [playlistsToKeep, setPlaylistsToKeep] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(token);\r\n\t}, []);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetSearchTerm(event.target.value);\r\n\t\tconsole.log(event.key);\r\n\t};\r\n\tconst _handleKeyDown = (e) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tsearchTime();\r\n\t\t}\r\n\t};\r\n\r\n\tconst addToList = (e) => {\r\n\t\tconst playlistID = e.target.id;\r\n\t\tdocument.getElementById(e.target.id).parentElement.style.opacity = 0.2;\r\n\t\tsetPlaylistsToKeep([...playlistsToKeep, playlistID]);\r\n\t};\r\n\r\n\tasync function searchTime() {\r\n\t\tconsole.log(searchTerm);\r\n\t\tlet playlistsTemp = [];\r\n\t\tlet nextLink;\r\n\t\tlet batchNum = 1;\r\n\t\tdo {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\tnextLink ||\r\n\t\t\t\t\t`https://api.spotify.com/v1/search?q=${searchTerm}&type=playlist&limit=50&offset=${offset}`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// Make sure the response is good\r\n\t\t\tnextLink = res.data.playlists.next;\r\n\t\t\tplaylistsTemp.push(...res.data.playlists.items);\r\n\t\t\tconsole.log(`batch ${batchNum}`);\r\n\t\t\tconsole.log(res);\r\n\t\t\tbatchNum++;\r\n\t\t} while (nextLink && playlistsTemp.length < 100);\r\n\t\tsetOffset(offset + playlistsTemp.length);\r\n\t\t// Sort and filter\r\n\t\tplaylistsTemp = nameFilter(playlistsTemp);\r\n\t\tconsole.log(playlistsTemp);\r\n\t\tlet playlistsToShow = [];\r\n\t\t// Get user photos\r\n\t\tfor (var i = 0; i < playlistsTemp.length; i++) {\r\n\t\t\tconst playlist = playlistsTemp[i];\r\n\t\t\tconsole.log(i);\r\n\t\t\tconst beans = await axios.get(\r\n\t\t\t\t`https://api.spotify.com/v1/users/${playlist.owner.id}`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tconsole.log(beans);\r\n\t\t\t// If they have a picture, add them to the list\r\n\t\t\tif (beans.data.images.length > 0) {\r\n\t\t\t\tplaylistsToShow.push({\r\n\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\tauthor: playlist.owner.display_name,\r\n\t\t\t\t\timage: beans.data.images[0].url,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetPlaylists(playlistsToShow);\r\n\t\t// user.log(`Retrieved ${res.data.items.length} playlists`);\r\n\t}\r\n\r\n\tconst getPlaylistsForExport = async () => {\r\n\t\tlet resultsArray = [];\r\n\t\tconst idArray = JSON.parse(JSON.stringify(playlistsToKeep));\r\n\t\tfor (var i = 0; i < idArray.length; i++) {\r\n\t\t\tconst playlistId = idArray[i];\r\n\t\t\tconsole.log(playlistId);\r\n\t\t\ttry {\r\n\t\t\t\tlet res;\r\n\t\t\t\t// Remove old tracks\r\n\t\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlistId}`;\r\n\t\t\t\tres = await axios.get(apiURL, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tconsole.log(\"got data\", res.data.name);\r\n\t\t\t\t\tlet d = res.data;\r\n\t\t\t\t\t// Playlist Name, Playlist Link, Creator Name, Creator Link, Followers\r\n\t\t\t\t\tresultsArray[i] = [\r\n\t\t\t\t\t\td.name,\r\n\t\t\t\t\t\td.external_urls.spotify,\r\n\t\t\t\t\t\td.owner.display_name,\r\n\t\t\t\t\t\td.owner.external_urls.spotify,\r\n\t\t\t\t\t\td.followers.total,\r\n\t\t\t\t\t];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(`Getting data gave us an error. Not cool man.`);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(`Getting data gave us an error. Not cool man.`);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(`All done boss.`);\r\n\r\n\t\tfor (var j = 0; j < resultsArray.length; j++) {\r\n\t\t\tresultsArray[j] = resultsArray[j].join(\" ## \");\r\n\t\t}\r\n\r\n\t\tdocument.getElementById(\"copy-text\").value = resultsArray.join(\"\\n\");\r\n\t\treturn resultsArray.join(\"\\n\");\r\n\t};\r\n\r\n\tconst resultCards = playlists.map((playlist) => (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: 220,\r\n\t\t\t\tbackground: \"#ccc\",\r\n\t\t\t\tmargin: 10,\r\n\t\t\t\tpadding: 10,\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t}}\r\n\t\t\tkey={playlist.id}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={playlist.image}\r\n\t\t\t\talt=\"author\"\r\n\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\tid={playlist.id}\r\n\t\t\t\tonClick={addToList}\r\n\t\t\t/>\r\n\t\t\t<p>\r\n\t\t\t\t<strong>{playlist.author}</strong>\r\n\t\t\t</p>\r\n\t\t\t<p>{playlist.name}</p>\r\n\t\t</div>\r\n\t));\r\n\r\n\tconst playlistsToKeepElements = playlistsToKeep.map((id) => (\r\n\t\t<li key={id}>{id}</li>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Container fixed style={{ marginTop: 50 }}>\r\n\t\t\t<div style={{ textAlign: \"center\" }}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"outlined-basic\"\r\n\t\t\t\t\tlabel=\"Spotify Search Term\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={_handleKeyDown}\r\n\t\t\t\t/>{\" \"}\r\n\t\t\t\t<br />\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackground: \"green\",\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\t\tflexWrap: \"wrap\",\r\n\t\t\t\t\tborderRadius: 20,\r\n\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t}}>\r\n\t\t\t\t{resultCards}\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => searchTime()}>\r\n\t\t\t\tGet 100 more\r\n\t\t\t</Button>\r\n\t\t\t<h3>Playlists you're exporting</h3>\r\n\t\t\t<ol>{playlistsToKeepElements}</ol>\r\n\t\t\t<br />\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => getPlaylistsForExport()}>\r\n\t\t\t\tGenerate Copy Text\r\n\t\t\t</Button>\r\n\t\t\t<h3>Copy Text</h3>\r\n\t\t\t<textarea id=\"copy-text\">{\"beans\\nbeans\"}</textarea>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default SearchPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useAxios from \"axios-hooks\";\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nimport SearchPage from \"./SearchPage\";\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t\"aria-controls\": `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: \"calc(100vh - 48px)\",\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\tconst [tokenTimeout, setTokenTimout] = useState(user.tokenms - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst tokenTimeoutInterval = setInterval(() => {\r\n\t\t\tsetTokenTimout(user.tokenms - Date.now());\r\n\t\t\tif (tokenTimeout < 1000) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttokenTimeoutInterval.clear();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"Tried to clear interval, could not. Oh well.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 60000);\r\n\t}, []);\r\n\r\n\tconst [{ data, loading, error }] = useAxios({\r\n\t\turl: \"https://api.spotify.com/v1/me\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (loading) {\r\n\t\tconsole.log(\"Loading user...\");\r\n\t}\r\n\r\n\tif (data) {\r\n\t\t// console.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== \"\") {\r\n\t\treturn <SearchPage token={token} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you're seeing this, click this button, then refresh the\r\n\t\t\t\t\tpage.\r\n\t\t\t\t</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from \"react\";\r\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport hash from \"./hash\";\r\nimport Main from \"./components/Main\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport { user } from \"./store\";\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: \"#0a5e54\",\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: \"#ede8e5\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: \"\" }],\r\n\t\t\t\t},\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tartists: [{ name: \"\" }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: \"Paused\",\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem(\"token\");\r\n\r\n\t\tif (hash.access_token) {\r\n\t\t\t// Set to 30 minutes later than now\r\n\t\t\tuser.tokenms = Date.now() + 30 * 60 * 1000;\r\n\t\t}\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"token\", _token);\r\n\t\t\tuser.token = _token;\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t<div className=\"bg\">\r\n\t\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\ttextShadow:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0px 5px 10px rgba(0,0,0,0.9)\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tLittle Conductor\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t\t\"%20\"\r\n\t\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}>\r\n\t\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}