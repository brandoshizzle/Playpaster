{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/filters.js","components/SearchPage.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","tokenms","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","logline","user","logArray","push","text","start","normal","end","error","logEl","document","getElementById","scrollTop","scrollHeight","errors","store","localStorage","getItem","merge","JSON","parse","observe","setItem","stringify","nameFilter","playlists","nameOnes","others","i","length","playlist","owner","display_name","indexOf","concat","SearchPage","props","_useState","useState","_useState2","Object","slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","setPlaylists","_useState5","_useState6","offset","setOffset","_useState7","_useState8","playlistsToKeep","setPlaylistsToKeep","_useState9","_useState10","alertOpen","setAlertOpen","_useState11","_useState12","_useState13","_useState14","setBadNameCount","_useState15","_useState16","useEffect","console","value","addToList","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","e","playlistID","playlistInfo","newPlaylist","res","apiURL","d","wrap","_context","prev","next","target","find","x","parentElement","style","opacity","axios","get","headers","Authorization","Content-Type","sent","status","data","objectSpread","playlist_url","external_urls","spotify","owner_url","followers","t0","toConsumableArray","stop","_x","apply","this","arguments","searchTime","_searchTime","_callee3","playlistsTemp","nextLink","batchNum","_playlistsTemp","batchSize","playlistsToShow","beans","_context3","items","images","image","url","getPlaylistsForExport","_ref2","_callee2","resultsArray","playlistArray","j","_context2","Date","now","toLocaleDateString","join","abrupt","resultCards","map","react_default","createElement","width","background","margin","padding","position","key","src","alt","onClick","playlistsToKeepElements","info","display","flexDirection","height","minWidth","href","rel","copyText","songName","songLink","replace","textArea","top","left","border","outline","boxShadow","body","appendChild","focus","select","msg","execCommand","err","removeChild","copyMessage","placeholder","Container","fixed","marginTop","TextField","label","variant","marginBottom","Button","removeItem","reload","minHeight","multiline","onChange","event","onKeyDown","flexWrap","borderRadius","textAlign","useStyles","makeStyles","theme","root","flexGrow","view","tokenTimeout","setTokenTimout","tokenTimeoutInterval","setInterval","clear","_useAxios","useAxios","method","_useAxios2$","loading","components_SearchPage","LSTheme","createMuiTheme","palette","primary","main","secondary","App","_this","classCallCheck","_super","call","state","album","artists","duration_ms","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","className","Typography","component","textShadow","components_Main","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.e0902d63.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\n// export const redirectUri = \"http://localhost:3000/redirect\";\r\nexport const redirectUri = \"https://brandoshizzle.github.io/Playpaster/\";\r\nexport const scopes = [\"user-read-email\"];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from \"@risingstack/react-easy-state\";\r\nimport { observe } from \"@nx-js/observer-util\";\r\nimport merge from \"lodash/merge\";\r\n\r\nconst defaultUser = {\r\n\tname: \"\",\r\n\tid: \"\",\r\n\ttoken: \"\",\r\n\ttokenms: 0,\r\n\tallPlaylists: [],\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || \"normal\";\r\n\t\tconst colors = {\r\n\t\t\tstart: \"cornflowerblue\",\r\n\t\t\tnormal: \"#ddd\",\r\n\t\t\tend: \"lightgreen\",\r\n\t\t\terror: \"red\",\r\n\t\t};\r\n\t\tconst logline = \"> \" + newLine;\r\n\t\tuser.logArray.push({ text: logline, color: colors[textColor] });\r\n\t\tvar logEl = document.getElementById(\"logger\");\r\n\t\tlogEl.scrollTop = logEl.scrollHeight + 50;\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport function addPlaylist(playlistData) {\r\n\tuser.allPlaylists.push({\r\n\t\tid: playlistData.id,\r\n\t\tname: playlistData.name,\r\n\t\turl: playlistData.external_urls.spotify,\r\n\t\ttracks_endpoint: playlistData.tracks.href,\r\n\t\tdescription: decodeURIComponent(playlistData.description),\r\n\t\ttracks: playlistData.tracks,\r\n\t\talbumsString: playlistData.albumsString,\r\n\t\talbums: playlistData.albums,\r\n\t\tlastUpdated: playlistData.lastUpdated,\r\n\t\tduration: playlistData.duration,\r\n\t});\r\n}\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem(\"user\") != null\r\n\t\t? merge(defaultUser, JSON.parse(localStorage.getItem(\"user\")))\r\n\t\t: defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem(\"user\", JSON.stringify(user));\r\n});\r\n\r\nwindow.user = user;\r\n","export function nameFilter(playlists) {\r\n\tlet nameOnes = [];\r\n\tlet others = [];\r\n\tfor (var i = 0; i < playlists.length; i++) {\r\n\t\tconst playlist = playlists[i];\r\n\t\tconst name = playlist.owner.display_name;\r\n\t\t// Test for name to be two parts like a name\r\n\t\t// let twoParts = false;\r\n\t\tif (name === \"Spotify\") {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (name.indexOf(\" \") > -1) {\r\n\t\t\tnameOnes.push(playlist);\r\n\t\t} else {\r\n\t\t\tothers.push(playlist);\r\n\t\t}\r\n\t}\r\n\r\n\treturn [...nameOnes, ...others];\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport axios from \"axios\";\r\nimport { nameFilter } from \"./filters\";\r\n\r\nconst defaultMessage = `Hey {first name},\r\nI stumbled on your {playlist name} playlist on Spotify (if it actually is your playlist? Haha) and I really enjoy it!\r\n\r\nA friend of mine, an aspiring instrumental pianist from Edmonton, Canada, recently released a new single that may fit nicely on your playlist! If you want to check it out, it’s called {song name}.\r\n\r\n{song link}\r\n\r\nAnyway, thanks for reading my message and keep up your great taste in music! I’m sorry for the unsolicited message, but I hope you enjoy the music and have a wonderful day!\r\n\r\nTyler`;\r\n\r\nconst SearchPage = (props) => {\r\n\tlet { token } = props;\r\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\r\n\tconst [playlists, setPlaylists] = useState([]);\r\n\tconst [offset, setOffset] = useState(0);\r\n\tconst [playlistsToKeep, setPlaylistsToKeep] = useState([]);\r\n\tconst [alertOpen, setAlertOpen] = useState(\"none\");\r\n\tconst [noFollowersCount, setNoFollowersCount] = useState(0);\r\n\tconst [badNameCount, setBadNameCount] = useState(0);\r\n\tconst [alreadyGotItCount, setAlreadyGotItCount] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(token);\r\n\t\tdocument.getElementById(\"message\").value =\r\n\t\t\tlocalStorage.getItem(\"message\") || defaultMessage;\r\n\t}, []);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetSearchTerm(event.target.value);\r\n\t\tconsole.log(event.key);\r\n\t};\r\n\tconst _handleKeyDown = (e) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tsearchTime();\r\n\t\t}\r\n\t};\r\n\r\n\tconst addToList = async (e) => {\r\n\t\tconst playlistID = e.target.id;\r\n\t\tconst playlistInfo = playlists.find((x) => x.id === playlistID);\r\n\t\tlet newPlaylist = [];\r\n\t\tdocument.getElementById(e.target.id).parentElement.style.opacity = 0.2;\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\t// Remove old tracks\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlistID}`;\r\n\t\t\tres = await axios.get(apiURL, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(\"got data\", res.data.name);\r\n\t\t\t\tlet d = res.data;\r\n\t\t\t\tnewPlaylist = {\r\n\t\t\t\t\t...playlistInfo,\r\n\t\t\t\t\tplaylist_url: d.external_urls.spotify,\r\n\t\t\t\t\towner_url: d.owner.external_urls.spotify,\r\n\t\t\t\t\tfollowers: d.followers.total,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tsetAlertOpen(\"block\");\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsetAlertOpen(\"block\");\r\n\t\t}\r\n\r\n\t\tsetPlaylistsToKeep([...playlistsToKeep, newPlaylist]);\r\n\t};\r\n\r\n\tasync function searchTime() {\r\n\t\tconsole.log(searchTerm);\r\n\t\tlet playlistsTemp = [];\r\n\t\tlet nextLink;\r\n\t\tlet batchNum = 1;\r\n\t\ttry {\r\n\t\t\tdo {\r\n\t\t\t\tconst res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t`https://api.spotify.com/v1/search?q=${searchTerm}&type=playlist&limit=50&offset=${offset}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// Make sure the response is good\r\n\t\t\t\tnextLink = res.data.playlists.next;\r\n\t\t\t\tplaylistsTemp.push(...res.data.playlists.items);\r\n\t\t\t\tconsole.log(`batch ${batchNum}`);\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tbatchNum++;\r\n\t\t\t} while (nextLink && playlistsTemp.length < 100);\r\n\t\t} catch (e) {\r\n\t\t\tsetAlertOpen(\"block\");\r\n\t\t}\r\n\r\n\t\tsetOffset(offset + playlistsTemp.length);\r\n\t\t// Sort and filter\r\n\t\tconst batchSize = playlistsTemp.length;\r\n\t\tplaylistsTemp = nameFilter(playlistsTemp);\r\n\t\tsetBadNameCount(batchSize - playlistsTemp.length);\r\n\t\tlet playlistsToShow = [];\r\n\t\t// Get user photos\r\n\t\tfor (var i = 0; i < playlistsTemp.length; i++) {\r\n\t\t\tconst playlist = playlistsTemp[i];\r\n\t\t\tconsole.log(i);\r\n\t\t\tconst beans = await axios.get(\r\n\t\t\t\t`https://api.spotify.com/v1/users/${playlist.owner.id}`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tconsole.log(beans);\r\n\t\t\t// If they have a picture, add them to the list\r\n\t\t\tif (beans.data.images.length > 0) {\r\n\t\t\t\tplaylistsToShow.push({\r\n\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\towner: playlist.owner.display_name,\r\n\t\t\t\t\timage: beans.data.images[0].url,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetPlaylists(playlistsToShow);\r\n\t\t// user.log(`Retrieved ${res.data.items.length} playlists`);\r\n\t}\r\n\r\n\tconst copyMessage = (info) => {\r\n\t\tconst copyText = document.getElementById(\"message\").value;\r\n\t\tconst songName = document.getElementById(\"song-name\").value;\r\n\t\tconst songLink = document.getElementById(\"song-link\").value;\r\n\t\t// Replace all elements\r\n\t\tconst text = copyText\r\n\t\t\t.replace(\"{first name}\", info.owner.split(\" \")[0])\r\n\t\t\t.replace(\"{playlist name}\", info.name)\r\n\t\t\t.replace(\"{song name}\", songName)\r\n\t\t\t.replace(\"{song link}\", songLink);\r\n\r\n\t\tvar textArea = document.createElement(\"textarea\");\r\n\t\ttextArea.style.position = \"fixed\";\r\n\t\ttextArea.style.top = 0;\r\n\t\ttextArea.style.left = 0;\r\n\t\ttextArea.style.width = \"2em\";\r\n\t\ttextArea.style.height = \"2em\";\r\n\t\ttextArea.style.padding = 0;\r\n\t\ttextArea.style.border = \"none\";\r\n\t\ttextArea.style.outline = \"none\";\r\n\t\ttextArea.style.boxShadow = \"none\";\r\n\t\ttextArea.style.background = \"transparent\";\r\n\t\ttextArea.value = text;\r\n\t\tdocument.body.appendChild(textArea);\r\n\t\ttextArea.focus();\r\n\t\ttextArea.select();\r\n\t\ttry {\r\n\t\t\tvar successful = document.execCommand(\"copy\");\r\n\t\t\tvar msg = successful ? \"successful\" : \"unsuccessful\";\r\n\t\t\tconsole.log(\"Copying text command was \" + msg);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(\"Oops, unable to copy\");\r\n\t\t}\r\n\r\n\t\tdocument.body.removeChild(textArea);\r\n\t};\r\n\r\n\tconst getPlaylistsForExport = async () => {\r\n\t\tlet resultsArray = [];\r\n\t\tconst playlistArray = JSON.parse(JSON.stringify(playlistsToKeep));\r\n\t\tfor (var i = 0; i < playlistArray.length; i++) {\r\n\t\t\tconst playlist = playlistArray[i];\r\n\t\t\t// Playlist Name, Playlist Link, Creator Name, Creator Link, Followers, Song, Search Term, FB Link, nothing, attacked (yee), attacked by (inits), nothing, date\r\n\t\t\tresultsArray[i] = [\r\n\t\t\t\tplaylist.name,\r\n\t\t\t\tplaylist.playlist_url,\r\n\t\t\t\tplaylist.owner,\r\n\t\t\t\tplaylist.owner_url,\r\n\t\t\t\tplaylist.followers,\r\n\t\t\t\tdocument.getElementById(\"song-name\").value,\r\n\t\t\t\tsearchTerm,\r\n\t\t\t\tdocument.getElementById(`fblink-${playlist.id}`).value || \"nay\",\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"yee\",\r\n\t\t\t\tdocument.getElementById(\"user-name\").value,\r\n\t\t\t\t\"\",\r\n\t\t\t\tnew Date(Date.now()).toLocaleDateString(),\r\n\t\t\t];\r\n\t\t}\r\n\t\tfor (var j = 0; j < resultsArray.length; j++) {\r\n\t\t\tresultsArray[j] = resultsArray[j].join(\" ## \");\r\n\t\t}\r\n\r\n\t\tdocument.getElementById(\"copy-text\").value = resultsArray.join(\"\\n\");\r\n\t\treturn resultsArray.join(\"\\n\");\r\n\t};\r\n\r\n\tconst resultCards = playlists.map((playlist) => (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: 220,\r\n\t\t\t\tbackground: \"#ccc\",\r\n\t\t\t\tmargin: 10,\r\n\t\t\t\tpadding: 10,\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t}}\r\n\t\t\tkey={playlist.id}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={playlist.image}\r\n\t\t\t\talt=\"owner\"\r\n\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\tid={playlist.id}\r\n\t\t\t\tonClick={addToList}\r\n\t\t\t/>\r\n\t\t\t<p>\r\n\t\t\t\t<strong>{playlist.owner}</strong>\r\n\t\t\t</p>\r\n\t\t\t<p>{playlist.name}</p>\r\n\t\t</div>\r\n\t));\r\n\r\n\tconst playlistsToKeepElements = playlistsToKeep.map((info) => (\r\n\t\t<div key={info.id} style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t<img src={info.image} height={100} alt=\"pic\" />\r\n\t\t\t<div style={{ minWidth: 400 }}>\r\n\t\t\t\t<h3 style={{ margin: 2, padding: 5 }}>{info.owner}</h3>\r\n\t\t\t\t<h4 style={{ margin: 2, padding: 5 }}>{info.name}</h4>\r\n\t\t\t\t<p style={{ margin: 2, padding: 5 }}>\r\n\t\t\t\t\t{info.followers} followers\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref={`https://www.facebook.com/search/people/?q=${info.owner}`}\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\tonClick={() => copyMessage(info)}>\r\n\t\t\t\t\tSearch on Facebook\r\n\t\t\t\t</a>\r\n\t\t\t\t<br />\r\n\t\t\t\t<input placeholder={\"Paste FB here\"} id={`fblink-${info.id}`} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Container fixed style={{ marginTop: 50 }}>\r\n\t\t\t<h3>1. Setup</h3>\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"user-name\"\r\n\t\t\t\tlabel=\"Your Initials\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}}>\r\n\t\t\t\tGet Spotify token\r\n\t\t\t</Button>\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"song-name\"\r\n\t\t\t\tlabel=\"Promoting Song Name\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"song-link\"\r\n\t\t\t\tlabel=\"Promoting Song Link\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"song-link\"\r\n\t\t\t\tlabel=\"List of playlist links we've already got\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<h3>2. Make sure the message looks good</h3>\r\n\t\t\t<TextField\r\n\t\t\t\tstyle={{ width: \"100%\", minHeight: 300 }}\r\n\t\t\t\tlabel=\"Message\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tmultiline\r\n\t\t\t\tid=\"message\"\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\"message\",\r\n\t\t\t\t\t\tdocument.getElementById(\"message\").value\r\n\t\t\t\t\t)\r\n\t\t\t\t}>\r\n\t\t\t\tSave\r\n\t\t\t</Button>\r\n\t\t\t<h3>3. Search for playlists on Spotify</h3>\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"outlined-basic\"\r\n\t\t\t\t\tlabel=\"Spotify Search Term\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={_handleKeyDown}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<p style={{ display: offset > 0 ? \"block\" : \"none\" }}>\r\n\t\t\t\t\tGathering playlists... User data received for{\" \"}\r\n\t\t\t\t\t{playlists.length}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<h3>4. Pick promising playlists</h3>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackground: \"green\",\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\t\tflexWrap: \"wrap\",\r\n\t\t\t\t\tborderRadius: 20,\r\n\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t}}>\r\n\t\t\t\t{resultCards}\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => searchTime()}>\r\n\t\t\t\tGet 100 more\r\n\t\t\t</Button>\r\n\t\t\t<h3>5. Find and message them on Facebook</h3>\r\n\t\t\t<ol>{playlistsToKeepElements}</ol>\r\n\t\t\t<br />\r\n\r\n\t\t\t<h3>6. Generate text to paste into the tracking spreadsheet</h3>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => getPlaylistsForExport()}>\r\n\t\t\t\tGenerate Copy Text\r\n\t\t\t</Button>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"copy-text\"\r\n\t\t\t\tlabel=\"Copy this\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tmultiline\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\tdisplay: alertOpen,\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\tbackground: \"red\",\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<p style={{ color: \"white\" }}>\r\n\t\t\t\t\tError with Spotify request - please get new Spotify token\r\n\t\t\t\t\t(step 1)\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default SearchPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useAxios from \"axios-hooks\";\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nimport SearchPage from \"./SearchPage\";\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t\"aria-controls\": `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: \"calc(100vh - 48px)\",\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\tconst [tokenTimeout, setTokenTimout] = useState(user.tokenms - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst tokenTimeoutInterval = setInterval(() => {\r\n\t\t\tsetTokenTimout(user.tokenms - Date.now());\r\n\t\t\tif (tokenTimeout < 1000) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttokenTimeoutInterval.clear();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"Tried to clear interval, could not. Oh well.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 60000);\r\n\t}, []);\r\n\r\n\tconst [{ data, loading, error }] = useAxios({\r\n\t\turl: \"https://api.spotify.com/v1/me\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (loading) {\r\n\t\tconsole.log(\"Loading user...\");\r\n\t}\r\n\r\n\tif (data) {\r\n\t\t// console.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== \"\") {\r\n\t\treturn <SearchPage token={token} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you're seeing this, click this button, then refresh the\r\n\t\t\t\t\tpage.\r\n\t\t\t\t</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from \"react\";\r\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport hash from \"./hash\";\r\nimport Main from \"./components/Main\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport { user } from \"./store\";\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: \"#0a5e54\",\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: \"#ede8e5\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: \"\" }],\r\n\t\t\t\t},\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tartists: [{ name: \"\" }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: \"Paused\",\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem(\"token\");\r\n\r\n\t\tif (hash.access_token) {\r\n\t\t\t// Set to 30 minutes later than now\r\n\t\t\tuser.tokenms = Date.now() + 30 * 60 * 1000;\r\n\t\t}\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"token\", _token);\r\n\t\t\tuser.token = _token;\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\ttextShadow:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0px 5px 10px rgba(0,0,0,0.9)\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tPlaypasting Time\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t\t\"%20\"\r\n\t\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}>\r\n\t\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}