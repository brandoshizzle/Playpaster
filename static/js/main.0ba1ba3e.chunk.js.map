{"version":3,"sources":["config.js","hash.js","store.js","components/filters.js","components/songs.js","components/SearchPage.js","components/Main.js","App.js","index.js"],"names":["scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","tokenms","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","logline","user","logArray","push","text","start","normal","end","error","logEl","document","getElementById","scrollTop","scrollHeight","errors","store","localStorage","getItem","merge","JSON","parse","observe","setItem","stringify","nameFilter","playlists","nameOnes","others","i","length","playlist","owner","display_name","indexOf","match","join","previousFilter","tooFewFollowersList","previousPlaylistIds","goodOnes","songDetails","artist","link","artistFlavour","With Dogs","River Camille","Little Symphony","Evergreen","SearchPage","props","_useState","useState","_useState2","Object","slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","setPlaylists","_useState5","_useState6","offset","setOffset","_useState7","_useState8","playlistsToKeep","setPlaylistsToKeep","_useState9","_useState10","alertOpen","setAlertOpen","_useState11","_useState12","badNameCount","setBadNameCount","_useState13","_useState14","alreadyGotItCount","setAlreadyGotItCount","_useState15","_useState16","searchTotal","setSearchTotal","_useState17","_useState18","resultsTableRows","setResultsTableRows","_useState19","_useState20","noPicCount","setNoPicCount","_useState21","_useState22","song","setSong","useEffect","console","value","searchTime","_searchTime","apply","this","arguments","asyncToGenerator","regenerator_default","a","mark","_callee3","playlistsTemp","nextLink","_playlistsTemp","res","newOffset","batchSize","nameFilterCount","previousFilterCount","playlistsToShow","noPicCountTemp","beans","wrap","_context3","prev","next","axios","get","concat","headers","Authorization","Content-Type","sent","data","toConsumableArray","items","t0","t1","abrupt","images","ownerId","image","url","stop","addToList","_ref","_callee","e","playlistID","playlistInfo","newPlaylist","apiURL","d","_context","target","find","x","parentElement","style","opacity","status","followers","objectSpread","playlist_url","external_urls","spotify","owner_url","_x","copyMessage","info","copyText","songDeets","filter","obj","replaceAll","textArea","createElement","position","top","left","width","height","padding","border","outline","boxShadow","background","body","appendChild","focus","select","msg","execCommand","err","removeChild","getPlaylistsForExport","_ref2","_callee2","resultsArray","playlistArray","_context2","react_default","key","checked","Date","now","toLocaleDateString","resultCards","map","margin","src","alt","onClick","playlistsToKeepElements","display","flexDirection","href","rel","textDecoration","Button","variant","marginTop","marginRight","TextField","flex","label","type","disabled","songDropdownOptions","MenuItem","Container","fixed","removeItem","reload","marginBottom","FormControl","minWidth","InputLabel","Select","labelId","onChange","event","playlistsText","firstHTTP","previousPlaylistIdArray","val","lastSlash","lastIndexOf","ownersText","previousOwnerIdArray","previousPicksToArray","minHeight","multiline","onKeyDown","flexWrap","borderRadius","textAlign","view","tokenTimeout","setTokenTimout","tokenTimeoutInterval","setInterval","clear","_useAxios","useAxios","method","_useAxios2$","loading","components_SearchPage","LSTheme","createMuiTheme","palette","primary","main","secondary","App","_this","classCallCheck","_super","call","state","album","artists","duration_ms","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","theme","className","Typography","component","textShadow","components_Main","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.0ba1ba3e.chunk.js","sourcesContent":["export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\n// export const redirectUri = \"http://localhost:3000/redirect\";\r\nexport const redirectUri = \"https://brandoshizzle.github.io/Playpaster/\";\r\nexport const scopes = [\"user-read-email\"];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from \"@risingstack/react-easy-state\";\r\nimport { observe } from \"@nx-js/observer-util\";\r\nimport merge from \"lodash/merge\";\r\n\r\nconst defaultUser = {\r\n\tname: \"\",\r\n\tid: \"\",\r\n\ttoken: \"\",\r\n\ttokenms: 0,\r\n\tallPlaylists: [],\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || \"normal\";\r\n\t\tconst colors = {\r\n\t\t\tstart: \"cornflowerblue\",\r\n\t\t\tnormal: \"#ddd\",\r\n\t\t\tend: \"lightgreen\",\r\n\t\t\terror: \"red\",\r\n\t\t};\r\n\t\tconst logline = \"> \" + newLine;\r\n\t\tuser.logArray.push({ text: logline, color: colors[textColor] });\r\n\t\tvar logEl = document.getElementById(\"logger\");\r\n\t\tlogEl.scrollTop = logEl.scrollHeight + 50;\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport function addPlaylist(playlistData) {\r\n\tuser.allPlaylists.push({\r\n\t\tid: playlistData.id,\r\n\t\tname: playlistData.name,\r\n\t\turl: playlistData.external_urls.spotify,\r\n\t\ttracks_endpoint: playlistData.tracks.href,\r\n\t\tdescription: decodeURIComponent(playlistData.description),\r\n\t\ttracks: playlistData.tracks,\r\n\t\talbumsString: playlistData.albumsString,\r\n\t\talbums: playlistData.albums,\r\n\t\tlastUpdated: playlistData.lastUpdated,\r\n\t\tduration: playlistData.duration,\r\n\t});\r\n}\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem(\"user\") != null\r\n\t\t? merge(defaultUser, JSON.parse(localStorage.getItem(\"user\")))\r\n\t\t: defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem(\"user\", JSON.stringify(user));\r\n});\r\n\r\nwindow.user = user;\r\n","export function nameFilter(playlists) {\r\n\tlet nameOnes = [];\r\n\tlet others = [];\r\n\tfor (var i = 0; i < playlists.length; i++) {\r\n\t\tconst playlist = playlists[i];\r\n\t\tconst name = playlist.owner.display_name;\r\n\t\t// Test for name to be two parts like a name\r\n\t\t// let twoParts = false;\r\n\t\tif (name === \"Spotify\") {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (name.indexOf(\" \") > -1) {\r\n\t\t\tnameOnes.push(playlist);\r\n\t\t} else if ((name.match(/./g) || []).length === 1) {\r\n\t\t\tplaylist.owner.display_name = name.split(\".\").join(\" \");\r\n\t\t\tnameOnes.push(playlist);\r\n\t\t} else {\r\n\t\t\tothers.push(playlist);\r\n\t\t}\r\n\t}\r\n\r\n\t// return [...nameOnes, ...others];\r\n\treturn nameOnes;\r\n}\r\n\r\nexport function previousFilter(playlists, tooFewFollowersList) {\r\n\tconst previousPlaylistIds = localStorage.getItem(\"previousPlaylists\");\r\n\tconst goodOnes = [];\r\n\tif (!previousPlaylistIds) {\r\n\t\treturn playlists;\r\n\t}\r\n\tfor (var i = 0; i < playlists.length; i++) {\r\n\t\tif (\r\n\t\t\tpreviousPlaylistIds.indexOf(playlists[i].id) === -1 &&\r\n\t\t\ttooFewFollowersList.indexOf(playlists[i].id) === -1\r\n\t\t) {\r\n\t\t\tgoodOnes.push(playlists[i]);\r\n\t\t}\r\n\t}\r\n\treturn goodOnes;\r\n}\r\n","export const songDetails = [\r\n\t{\r\n\t\tname: \"Juan de Fuca\",\r\n\t\tartist: \"Evergreen\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/4Ktqv1dZL3ef46WltQj9AK?si=iehNam7nTG26JKR-NedhDQ\",\r\n\t},\r\n\t{\r\n\t\tname: \"Mountains in Between\",\r\n\t\tartist: \"Evergreen\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/35PfDNruTQdLfCYqoOoN9p?si=DIomp-57RJSaNSVsHhhtEg\",\r\n\t},\r\n\t{\r\n\t\tname: \"Coco\",\r\n\t\tartist: \"Little Symphony\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/0Y4ipB4nBIZA3dWUWcoeLB?si=9f4KGWjNRpuFaXCCsmv12w\",\r\n\t},\r\n\t{\r\n\t\tname: \"Ikigai\",\r\n\t\tartist: \"River Camille\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/58CHyyhA4uzNeO3FP79Pbt?si=EGh17FVmQrKwvCzdQACYPg\",\r\n\t},\r\n\t{\r\n\t\tname: \"A Wander in the Dark To Nowhere\",\r\n\t\tartist: \"With Dogs\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/7mx3Hy3F4sVrEH8wISRKLv?si=FDeHBzyCSAWwI7jObNVfqQ\",\r\n\t},\r\n\t{\r\n\t\tname: \"Phoenix\",\r\n\t\tartist: \"With Dogs\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/4GSuMPE13V5Dnp7NeAAA9F?si=yi-aMXj3Qx6neqfcWI5EQw\",\r\n\t},\r\n\t{\r\n\t\tname: \"The Thaw\",\r\n\t\tartist: \"With Dogs\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/3q6o8KWrzUwWEZf1pDNQFX?si=EeLO6gUbS5urHcAArjILhQ\",\r\n\t},\r\n\t{\r\n\t\tname: \"Zora\",\r\n\t\tartist: \"With Dogs\",\r\n\t\tlink:\r\n\t\t\t\"https://open.spotify.com/track/58CHyyhA4uzNeO3FP79Pbt?si=EGh17FVmQrKwvCzdQACYPg\",\r\n\t},\r\n];\r\n\r\nexport const artistFlavour = {\r\n\t\"With Dogs\":\r\n\t\t\"With Dogs is an up-and-coming Canadian pianist with strong classical influences.\",\r\n\t\"River Camille\":\r\n\t\t\"River Camille is the piano alias of David Shoults, a Canadian musician and producer.\",\r\n\t\"Little Symphony\":\r\n\t\t\"Little Symphony creates ambient music with nature sounds recorded from around the world.\",\r\n\tEvergreen: \"Evergreen is a four-piece band from Edmonton, Canada.\",\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport axios from \"axios\";\r\nimport { nameFilter, previousFilter } from \"./filters\";\r\nimport { songDetails, artistFlavour } from \"./songs\";\r\n\r\nconst defaultSmallMessage = `Hello {first name},\r\n\r\nMy name is {your first name} and I'm with a group called Little Symphony Records. We help emerging artists get their music off the page and into peoples ears!\r\n\r\nI came across your playlist \"{playlist name}\", and I was wondering if you'd consider adding a song to it? {artist flavour text} I think they would be a good fit! (Song link below)\r\n\r\nBeing added to your playlist could be a game changer for {artist name}!\r\n\r\nThanks for reading this, and keep having such good taste in music,\r\n\r\n{your first name}\r\n\r\n{song link}`;\r\n\r\nconst defaultBigMessage = `Hello {first name},\r\n\r\nMy name is {your first name} and I'm with a group called Little Symphony Records. We help emerging artists get their music off the page and into peoples ears!\r\n\r\nI came across your playlist \"{playlist name}\", and I was wondering if you'd consider adding a song to it? {artist flavour text} I think they would be a good fit! (Song link below)\r\n\r\nBeing added to your playlist could be a game changer for {artist name},\r\n\r\nThanks for reading this, and keep having such good taste in music.\r\n\r\n{your first name}\r\n\r\n{song link}`;\r\n\r\nconst SearchPage = (props) => {\r\n\tlet { token } = props;\r\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\r\n\tconst [playlists, setPlaylists] = useState([]);\r\n\tconst [offset, setOffset] = useState(0);\r\n\tconst [playlistsToKeep, setPlaylistsToKeep] = useState([]);\r\n\tconst [alertOpen, setAlertOpen] = useState(\"none\");\r\n\tconst [badNameCount, setBadNameCount] = useState(0);\r\n\tconst [alreadyGotItCount, setAlreadyGotItCount] = useState(0);\r\n\tconst [searchTotal, setSearchTotal] = useState(0);\r\n\tconst [resultsTableRows, setResultsTableRows] = useState([]);\r\n\tconst [noPicCount, setNoPicCount] = useState(0);\r\n\tconst [song, setSong] = useState(\r\n\t\tlocalStorage.getItem(\"songName\") || \"Ikigai\"\r\n\t);\r\n\r\n\tlet tooFewFollowersList = [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(token);\r\n\t\tdocument.getElementById(\"message-small\").value =\r\n\t\t\tlocalStorage.getItem(\"message-small\") || defaultSmallMessage;\r\n\t\tdocument.getElementById(\"message-big\").value =\r\n\t\t\tlocalStorage.getItem(\"message-big\") || defaultBigMessage;\r\n\t\tdocument.getElementById(\"user-name\").value =\r\n\t\t\tlocalStorage.getItem(\"userName\") || \"\";\r\n\t\ttooFewFollowersList = localStorage.getItem(\"tooFewFollowersList\") || [];\r\n\t}, []);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetSearchTerm(event.target.value);\r\n\t\tconsole.log(event.key);\r\n\t};\r\n\tconst _handleKeyDown = (e) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tsearchTime();\r\n\t\t}\r\n\t};\r\n\r\n\tfunction previousPicksToArray() {\r\n\t\t// Get playlist link text, parse it, and save it to local storage\r\n\t\tlet playlistsText = document.getElementById(\"previous-playlists\").value;\r\n\t\tlet firstHTTP = playlistsText.indexOf(\"https\");\r\n\t\tplaylistsText = playlistsText.substring(firstHTTP);\r\n\t\tlet previousPlaylistIdArray = playlistsText.split(\" \");\r\n\t\tpreviousPlaylistIdArray = previousPlaylistIdArray.map((val, i) => {\r\n\t\t\tconst lastSlash = val.lastIndexOf(\"/\");\r\n\t\t\treturn val.substring(lastSlash + 1);\r\n\t\t});\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"previousPlaylists\",\r\n\t\t\tJSON.stringify(previousPlaylistIdArray)\r\n\t\t);\r\n\t\t// Get owners link text, parse it, and save it to local storage\r\n\t\tlet ownersText = document.getElementById(\"previous-owners\").value;\r\n\t\tfirstHTTP = ownersText.indexOf(\"https\");\r\n\t\townersText = ownersText.substring(firstHTTP);\r\n\t\tlet previousOwnerIdArray = ownersText.split(\" \");\r\n\t\tpreviousOwnerIdArray = previousOwnerIdArray.map((val, i) => {\r\n\t\t\tconst lastSlash = val.lastIndexOf(\"/\");\r\n\t\t\treturn val.substring(lastSlash + 1);\r\n\t\t});\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"previousOwners\",\r\n\t\t\tJSON.stringify(previousOwnerIdArray)\r\n\t\t);\r\n\t\t// Save username, song name, and song link to local storage\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"userName\",\r\n\t\t\tdocument.getElementById(\"user-name\").value\r\n\t\t);\r\n\t\tlocalStorage.setItem(\"songName\", song);\r\n\t}\r\n\r\n\t// Take a Spotify search query, filter out results, and present what's left\r\n\tasync function searchTime() {\r\n\t\tconsole.log(searchTerm);\r\n\t\tlet playlistsTemp = [];\r\n\t\tlet nextLink;\r\n\t\ttry {\r\n\t\t\tdo {\r\n\t\t\t\tconst res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t`https://api.spotify.com/v1/search?q=${searchTerm}&type=playlist&limit=50&offset=${offset}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// Make sure the response is good\r\n\t\t\t\tnextLink = res.data.playlists.next;\r\n\t\t\t\tplaylistsTemp.push(...res.data.playlists.items);\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetSearchTotal(res.data.playlists.total);\r\n\t\t\t} while (nextLink && playlistsTemp.length < 100);\r\n\t\t} catch (e) {\r\n\t\t\tsetAlertOpen(\"block\");\r\n\t\t}\r\n\t\tconst newOffset = offset + playlistsTemp.length;\r\n\t\tsetOffset(newOffset);\r\n\t\t// Sort and filter\r\n\t\tconst batchSize = playlistsTemp.length;\r\n\t\tconsole.log(batchSize);\r\n\t\tplaylistsTemp = nameFilter(playlistsTemp);\r\n\t\tconst nameFilterCount = batchSize - playlistsTemp.length;\r\n\t\tconsole.log(nameFilterCount);\r\n\t\tsetBadNameCount(nameFilterCount);\r\n\t\tplaylistsTemp = previousFilter(playlistsTemp, tooFewFollowersList);\r\n\t\tconst previousFilterCount =\r\n\t\t\tbatchSize - nameFilterCount - playlistsTemp.length;\r\n\t\tconsole.log(previousFilterCount);\r\n\t\tsetAlreadyGotItCount(previousFilterCount);\r\n\t\tlet playlistsToShow = [];\r\n\t\tlet noPicCountTemp = 0;\r\n\t\t// Get user photos\r\n\t\tfor (var i = 0; i < playlistsTemp.length; i++) {\r\n\t\t\tconst playlist = playlistsTemp[i];\r\n\t\t\tconsole.log(i);\r\n\t\t\tlet beans;\r\n\t\t\ttry {\r\n\t\t\t\tbeans = await axios.get(\r\n\t\t\t\t\t`https://api.spotify.com/v1/users/${playlist.owner.id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// If they have a picture, add them to the list\r\n\t\t\tif (beans.data.images.length > 0) {\r\n\t\t\t\tplaylistsToShow.push({\r\n\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\towner: playlist.owner.display_name,\r\n\t\t\t\t\townerId: playlist.owner.id,\r\n\t\t\t\t\timage: beans.data.images[0].url,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tnoPicCountTemp++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetNoPicCount(noPicCountTemp);\r\n\t\tsetPlaylists(playlistsToShow);\r\n\t}\r\n\r\n\t// When you click on a playlist result, search for followers and add it to the list to search on FB\r\n\tconst addToList = async (e) => {\r\n\t\tconst playlistID = e.target.id;\r\n\t\tconst playlistInfo = playlists.find((x) => x.id === playlistID);\r\n\t\tlet newPlaylist = [];\r\n\t\tdocument.getElementById(e.target.id).parentElement.style.opacity = 0.2;\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlistID}`;\r\n\t\t\tres = await axios.get(apiURL, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(\"got data\", res.data.name);\r\n\t\t\t\tlet d = res.data;\r\n\t\t\t\tif (d.followers.total > 3) {\r\n\t\t\t\t\tnewPlaylist = {\r\n\t\t\t\t\t\t...playlistInfo,\r\n\t\t\t\t\t\tplaylist_url: d.external_urls.spotify,\r\n\t\t\t\t\t\towner_url: d.owner.external_urls.spotify,\r\n\t\t\t\t\t\tfollowers: d.followers.total,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsetPlaylistsToKeep([...playlistsToKeep, newPlaylist]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttooFewFollowersList.push(playlistID);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetAlertOpen(\"block\");\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsetAlertOpen(\"block\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst copyMessage = (info) => {\r\n\t\tconst copyText = document.getElementById(\"message-small\").value;\r\n\t\tconst songDeets = songDetails.filter((obj) => obj.name === song)[0];\r\n\t\t// Replace all elements\r\n\t\tconst text = copyText\r\n\t\t\t.replaceAll(\"{first name}\", info.owner.split(\" \")[0])\r\n\t\t\t.replaceAll(\"{playlist name}\", info.name)\r\n\t\t\t.replaceAll(\"{song name}\", songDeets.name)\r\n\t\t\t.replaceAll(\"{song link}\", songDeets.link)\r\n\t\t\t.replaceAll(\"{artist name}\", songDeets.artist)\r\n\t\t\t.replaceAll(\r\n\t\t\t\t\"{artist flavour text}\",\r\n\t\t\t\tartistFlavour[songDeets.artist]\r\n\t\t\t)\r\n\t\t\t.replaceAll(\r\n\t\t\t\t\"{your first name}\",\r\n\t\t\t\tdocument.getElementById(\"user-name\").value.split(\" \")[0]\r\n\t\t\t);\r\n\r\n\t\tvar textArea = document.createElement(\"textarea\");\r\n\t\ttextArea.style.position = \"fixed\";\r\n\t\ttextArea.style.top = 0;\r\n\t\ttextArea.style.left = 0;\r\n\t\ttextArea.style.width = \"2em\";\r\n\t\ttextArea.style.height = \"2em\";\r\n\t\ttextArea.style.padding = 0;\r\n\t\ttextArea.style.border = \"none\";\r\n\t\ttextArea.style.outline = \"none\";\r\n\t\ttextArea.style.boxShadow = \"none\";\r\n\t\ttextArea.style.background = \"transparent\";\r\n\t\ttextArea.value = text;\r\n\t\tdocument.body.appendChild(textArea);\r\n\t\ttextArea.focus();\r\n\t\ttextArea.select();\r\n\t\ttry {\r\n\t\t\tvar successful = document.execCommand(\"copy\");\r\n\t\t\tvar msg = successful ? \"successful\" : \"unsuccessful\";\r\n\t\t\tconsole.log(\"Copying text command was \" + msg);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(\"Oops, unable to copy\");\r\n\t\t}\r\n\r\n\t\tdocument.body.removeChild(textArea);\r\n\t};\r\n\r\n\tconst getPlaylistsForExport = async () => {\r\n\t\tlet resultsArray = [];\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"tooFewFollowersList\",\r\n\t\t\tJSON.stringify(tooFewFollowersList)\r\n\t\t);\r\n\t\tconst playlistArray = JSON.parse(JSON.stringify(playlistsToKeep));\r\n\t\tfor (var i = 0; i < playlistArray.length; i++) {\r\n\t\t\tconst playlist = playlistArray[i];\r\n\t\t\t// Playlist Name, Playlist Link, Creator Name, Creator Link, Followers, Song, Search Term, FB Link, nothing, attacked (yee), attacked by (inits), nothing, date\r\n\t\t\tresultsArray[i] = (\r\n\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t<td>{playlist.name}</td>\r\n\t\t\t\t\t<td>{playlist.playlist_url}</td>\r\n\t\t\t\t\t<td>{playlist.owner}</td>\r\n\t\t\t\t\t<td>{playlist.owner_url}</td>\r\n\t\t\t\t\t<td>{playlist.followers}</td>\r\n\t\t\t\t\t<td>{song.name}</td>\r\n\t\t\t\t\t<td>{searchTerm}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`fblink-${playlist.id}`)\r\n\t\t\t\t\t\t\t.value || \"nay\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>{\"\"}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`messaged-${playlist.id}`)\r\n\t\t\t\t\t\t\t.checked\r\n\t\t\t\t\t\t\t? \"yee\"\r\n\t\t\t\t\t\t\t: \"nay\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`messaged-${playlist.id}`)\r\n\t\t\t\t\t\t\t.checked\r\n\t\t\t\t\t\t\t? document.getElementById(\"user-name\").value\r\n\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>{\"\"}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`messaged-${playlist.id}`)\r\n\t\t\t\t\t\t\t.checked\r\n\t\t\t\t\t\t\t? new Date(Date.now()).toLocaleDateString()\r\n\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetResultsTableRows(resultsArray);\r\n\t};\r\n\r\n\tconst resultCards = playlists.map((playlist) => (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: 220,\r\n\t\t\t\tbackground: \"#ccc\",\r\n\t\t\t\tmargin: 10,\r\n\t\t\t\tpadding: 10,\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t}}\r\n\t\t\tkey={playlist.id}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={playlist.image}\r\n\t\t\t\talt=\"FB pic not loading - click to view\"\r\n\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\tid={playlist.id}\r\n\t\t\t\tonClick={addToList}\r\n\t\t\t/>\r\n\r\n\t\t\t<p>\r\n\t\t\t\t<strong>{playlist.owner}</strong>\r\n\t\t\t</p>\r\n\t\t\t<p>{playlist.name}</p>\r\n\t\t</div>\r\n\t));\r\n\r\n\tconst playlistsToKeepElements = playlistsToKeep.map((info) => (\r\n\t\t<div\r\n\t\t\tkey={info.id}\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t\tmargin: 10,\r\n\t\t\t}}>\r\n\t\t\t<a href={info.image} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={info.image}\r\n\t\t\t\t\twidth={100}\r\n\t\t\t\t\talt=\"FB pic not loading - click to view\"\r\n\t\t\t\t/>\r\n\t\t\t</a>\r\n\r\n\t\t\t<div style={{ width: \"40%\" }}>\r\n\t\t\t\t<h3 style={{ margin: 2, padding: 5 }}>{info.owner}</h3>\r\n\t\t\t\t<h4 style={{ margin: 2, padding: 5 }}>{info.name}</h4>\r\n\t\t\t\t<p style={{ margin: 2, padding: 5 }}>\r\n\t\t\t\t\t{info.followers} followers\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: \"flex\" }}>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref={`https://www.facebook.com/search/people/?q=${info.owner}`}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\tonClick={() => copyMessage(info)}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tstyle={{ width: 210, marginTop: 8, marginRight: 5 }}\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tJSON.parse(\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"previousOwners\")\r\n\t\t\t\t\t\t\t).indexOf(info.ownerId) > -1\r\n\t\t\t\t\t\t\t\t? \"default\"\r\n\t\t\t\t\t\t\t\t: \"primary\"\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t{JSON.parse(\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"previousOwners\")\r\n\t\t\t\t\t\t).indexOf(info.ownerId) > -1\r\n\t\t\t\t\t\t\t? \"Owner in database\"\r\n\t\t\t\t\t\t\t: \"Search on Facebook\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</a>\r\n\t\t\t\t{/* <br /> */}\r\n\t\t\t\t{/* <input placeholder={\"Paste FB here\"} id={`fblink-${info.id}`} /> */}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t\t\tlabel=\"Paste FB Here\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tid={`fblink-${info.id}`}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tid={`messaged-${info.id}`}\r\n\t\t\t\t\t\tname=\"messaged\"\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tJSON.parse(\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"previousOwners\")\r\n\t\t\t\t\t\t\t).indexOf(info.ownerId) > -1\r\n\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\tMessaged them\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\r\n\tconst songDropdownOptions = songDetails.map((song) => (\r\n\t\t<MenuItem value={song.name} key={song.name}>\r\n\t\t\t{song.artist} - {song.name}\r\n\t\t</MenuItem>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Container fixed style={{ marginTop: 50 }}>\r\n\t\t\t<h3>1. Setup</h3>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}}>\r\n\t\t\t\tGet Spotify token\r\n\t\t\t</Button>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"user-name\"\r\n\t\t\t\tlabel=\"Your Name (ex. Brandon Cathcart)\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<FormControl style={{ minWidth: 120, width: \"50%\" }}>\r\n\t\t\t\t<InputLabel id=\"song-dropdown-label\">Song</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tlabelId=\"song-dropdown-label\"\r\n\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tvalue={song}\r\n\t\t\t\t\tlabel=\"Song to Promote\"\r\n\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\tsetSong(event.target.value);\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t{songDropdownOptions}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"flavour-text\"\r\n\t\t\t\tlabel=\"Artist flavour text\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tvalue={\r\n\t\t\t\t\tartistFlavour[\r\n\t\t\t\t\t\tsongDetails.filter((obj) => obj.name === song)[0]\r\n\t\t\t\t\t\t\t.artist || \"\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t\tstyle={{ width: \"100%\", marginBottom: 20, marginTop: 20 }}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"previous-playlists\"\r\n\t\t\t\tlabel=\"Playlist URLs from spreadsheet\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"previous-owners\"\r\n\t\t\t\tlabel=\"Owner URLs from spreadsheet\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => previousPicksToArray()}>\r\n\t\t\t\tSave Setup\r\n\t\t\t</Button>\r\n\t\t\t<h3>2. Make sure the message looks good</h3>\r\n\t\t\t<TextField\r\n\t\t\t\tstyle={{ width: \"50%\", minHeight: 300 }}\r\n\t\t\t\tlabel=\"Small playlist message\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tmultiline\r\n\t\t\t\tid=\"message-small\"\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tstyle={{ width: \"50%\", minHeight: 300 }}\r\n\t\t\t\tlabel=\"Large playlist message\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tmultiline\r\n\t\t\t\tid=\"message-big\"\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tstyle={{ marginTop: 20, marginRight: 10 }}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\"message-small\",\r\n\t\t\t\t\t\tdocument.getElementById(\"message-small\").value\r\n\t\t\t\t\t);\r\n\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\"message-big\",\r\n\t\t\t\t\t\tdocument.getElementById(\"message-big\").value\r\n\t\t\t\t\t);\r\n\t\t\t\t}}>\r\n\t\t\t\tSave Messages\r\n\t\t\t</Button>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tstyle={{ marginTop: 20 }}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tcopyMessage({\r\n\t\t\t\t\t\tname: \"Test Playlist\",\r\n\t\t\t\t\t\towner: \"Beans McGee\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}}>\r\n\t\t\t\tTest Copy Message\r\n\t\t\t</Button>\r\n\t\t\t<h3>3. Search for playlists on Spotify</h3>\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"outlined-basic\"\r\n\t\t\t\t\tlabel=\"Spotify Search Term\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={_handleKeyDown}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<p style={{ display: offset > 0 ? \"block\" : \"none\" }}>\r\n\t\t\t\t\tGathering 100 playlists out of {searchTotal}... Filtered{\" \"}\r\n\t\t\t\t\t{badNameCount} unlikely names... Filtered{\" \"}\r\n\t\t\t\t\t{alreadyGotItCount} previously logged playlists... Filtered{\" \"}\r\n\t\t\t\t\t{noPicCount} without profile pictures... Returning{\" \"}\r\n\t\t\t\t\t{playlists.length}.\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<h3>4. Pick promising playlists</h3>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackground: \"green\",\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\t\tflexWrap: \"wrap\",\r\n\t\t\t\t\tborderRadius: 20,\r\n\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t}}>\r\n\t\t\t\t{resultCards}\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => searchTime()}>\r\n\t\t\t\tGet 100 more\r\n\t\t\t</Button>\r\n\t\t\t<h3>5. Find and message them on Facebook</h3>\r\n\t\t\t<ol>{playlistsToKeepElements}</ol>\r\n\t\t\t<br />\r\n\r\n\t\t\t<h3>6. Generate text to paste into the tracking spreadsheet</h3>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => getPlaylistsForExport()}>\r\n\t\t\t\tGenerate Copy Text\r\n\t\t\t</Button>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<table style={{ width: \"100%\", border: \"2px solid black\" }}>\r\n\t\t\t\t{resultsTableRows}\r\n\t\t\t</table>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\tdisplay: alertOpen,\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\tbackground: \"red\",\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<p style={{ color: \"white\" }}>\r\n\t\t\t\t\tError with Spotify request - please get new Spotify token\r\n\t\t\t\t\t(step 1)\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default SearchPage;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useAxios from \"axios-hooks\";\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nimport SearchPage from \"./SearchPage\";\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n// \troot: {\r\n// \t\tflexGrow: 1,\r\n// \t\theight: \"calc(100vh - 48px)\",\r\n// \t\t// backgroundColor: theme.palette.background.paper,\r\n// \t},\r\n// }));\r\n\r\nconst Main = (props) => {\r\n\t// const classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [tokenTimeout, setTokenTimout] = useState(user.tokenms - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst tokenTimeoutInterval = setInterval(() => {\r\n\t\t\tsetTokenTimout(user.tokenms - Date.now());\r\n\t\t\tif (tokenTimeout < 1000) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttokenTimeoutInterval.clear();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"Tried to clear interval, could not. Oh well.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 60000);\r\n\t}, []);\r\n\r\n\tconst [{ data, loading, error }] = useAxios({\r\n\t\turl: \"https://api.spotify.com/v1/me\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (loading) {\r\n\t\tconsole.log(\"Loading user...\");\r\n\t}\r\n\r\n\tif (data) {\r\n\t\t// console.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tif (user.id !== \"\") {\r\n\t\treturn <SearchPage token={token} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you're seeing this, click this button, then refresh the\r\n\t\t\t\t\tpage.\r\n\t\t\t\t</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from \"react\";\r\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport hash from \"./hash\";\r\nimport Main from \"./components/Main\";\r\nimport \"./App.css\";\r\nimport { user } from \"./store\";\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: \"#0a5e54\",\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: \"#ede8e5\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: \"\" }],\r\n\t\t\t\t},\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tartists: [{ name: \"\" }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: \"Paused\",\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem(\"token\");\r\n\r\n\t\tif (hash.access_token) {\r\n\t\t\t// Set to 30 minutes later than now\r\n\t\t\tuser.tokenms = Date.now() + 30 * 60 * 1000;\r\n\t\t}\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"token\", _token);\r\n\t\t\tuser.token = _token;\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\ttextShadow:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0px 5px 10px rgba(0,0,0,0.9)\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tPlaypasting Time\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t\t\"%20\"\r\n\t\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}>\r\n\t\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}