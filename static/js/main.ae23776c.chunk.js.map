{"version":3,"sources":["config.js","hash.js","store.js","components/filters.js","components/SearchPage.js","components/Main.js","App.js","index.js"],"names":["scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","tokenms","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","logline","user","logArray","push","text","start","normal","end","error","logEl","document","getElementById","scrollTop","scrollHeight","errors","store","localStorage","getItem","merge","JSON","parse","observe","setItem","stringify","nameFilter","playlists","nameOnes","others","i","length","playlist","owner","display_name","indexOf","match","join","previousFilter","previousPlaylistIds","goodOnes","SearchPage","props","_useState","useState","_useState2","Object","slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","setPlaylists","_useState5","_useState6","offset","setOffset","_useState7","_useState8","playlistsToKeep","setPlaylistsToKeep","_useState9","_useState10","alertOpen","setAlertOpen","_useState11","_useState12","badNameCount","setBadNameCount","_useState13","_useState14","alreadyGotItCount","setAlreadyGotItCount","_useState15","_useState16","searchTotal","setSearchTotal","_useState17","_useState18","resultsTableRows","setResultsTableRows","_useState19","_useState20","noPicCount","setNoPicCount","useEffect","console","value","searchTime","_searchTime","apply","this","arguments","asyncToGenerator","regenerator_default","a","mark","_callee3","playlistsTemp","nextLink","_playlistsTemp","res","newOffset","batchSize","nameFilterCount","previousFilterCount","playlistsToShow","noPicCountTemp","beans","wrap","_context3","prev","next","axios","get","concat","headers","Authorization","Content-Type","sent","data","toConsumableArray","items","t0","t1","abrupt","images","ownerId","image","url","stop","addToList","_ref","_callee","e","playlistID","playlistInfo","newPlaylist","apiURL","d","_context","target","find","x","parentElement","style","opacity","status","followers","objectSpread","playlist_url","external_urls","spotify","owner_url","_x","getPlaylistsForExport","_ref2","_callee2","resultsArray","playlistArray","_context2","react_default","createElement","key","checked","Date","now","toLocaleDateString","resultCards","map","width","background","margin","padding","position","href","rel","src","alt","onClick","playlistsToKeepElements","info","display","flexDirection","textDecoration","copyText","songName","songLink","replace","textArea","top","left","height","border","outline","boxShadow","body","appendChild","focus","select","msg","execCommand","err","removeChild","copyMessage","Button","variant","marginTop","marginRight","TextField","flex","label","type","disabled","Container","fixed","removeItem","reload","marginBottom","playlistsText","firstHTTP","previousPlaylistIdArray","val","lastSlash","lastIndexOf","ownersText","previousOwnerIdArray","previousPicksToArray","minHeight","multiline","onChange","event","onKeyDown","flexWrap","borderRadius","textAlign","useStyles","makeStyles","theme","root","flexGrow","view","tokenTimeout","setTokenTimout","tokenTimeoutInterval","setInterval","clear","_useAxios","useAxios","method","_useAxios2$","loading","components_SearchPage","LSTheme","createMuiTheme","palette","primary","main","secondary","App","_this","classCallCheck","_super","call","state","album","artists","duration_ms","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","className","Typography","component","textShadow","components_Main","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.ae23776c.chunk.js","sourcesContent":["export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\nexport const redirectUri = \"http://localhost:3000/redirect\";\r\n// export const redirectUri = \"https://brandoshizzle.github.io/Playpaster/\";\r\nexport const scopes = [\"user-read-email\"];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from \"@risingstack/react-easy-state\";\r\nimport { observe } from \"@nx-js/observer-util\";\r\nimport merge from \"lodash/merge\";\r\n\r\nconst defaultUser = {\r\n\tname: \"\",\r\n\tid: \"\",\r\n\ttoken: \"\",\r\n\ttokenms: 0,\r\n\tallPlaylists: [],\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || \"normal\";\r\n\t\tconst colors = {\r\n\t\t\tstart: \"cornflowerblue\",\r\n\t\t\tnormal: \"#ddd\",\r\n\t\t\tend: \"lightgreen\",\r\n\t\t\terror: \"red\",\r\n\t\t};\r\n\t\tconst logline = \"> \" + newLine;\r\n\t\tuser.logArray.push({ text: logline, color: colors[textColor] });\r\n\t\tvar logEl = document.getElementById(\"logger\");\r\n\t\tlogEl.scrollTop = logEl.scrollHeight + 50;\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport function addPlaylist(playlistData) {\r\n\tuser.allPlaylists.push({\r\n\t\tid: playlistData.id,\r\n\t\tname: playlistData.name,\r\n\t\turl: playlistData.external_urls.spotify,\r\n\t\ttracks_endpoint: playlistData.tracks.href,\r\n\t\tdescription: decodeURIComponent(playlistData.description),\r\n\t\ttracks: playlistData.tracks,\r\n\t\talbumsString: playlistData.albumsString,\r\n\t\talbums: playlistData.albums,\r\n\t\tlastUpdated: playlistData.lastUpdated,\r\n\t\tduration: playlistData.duration,\r\n\t});\r\n}\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem(\"user\") != null\r\n\t\t? merge(defaultUser, JSON.parse(localStorage.getItem(\"user\")))\r\n\t\t: defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem(\"user\", JSON.stringify(user));\r\n});\r\n\r\nwindow.user = user;\r\n","export function nameFilter(playlists) {\r\n\tlet nameOnes = [];\r\n\tlet others = [];\r\n\tfor (var i = 0; i < playlists.length; i++) {\r\n\t\tconst playlist = playlists[i];\r\n\t\tconst name = playlist.owner.display_name;\r\n\t\t// Test for name to be two parts like a name\r\n\t\t// let twoParts = false;\r\n\t\tif (name === \"Spotify\") {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (name.indexOf(\" \") > -1) {\r\n\t\t\tnameOnes.push(playlist);\r\n\t\t} else if ((name.match(/./g) || []).length === 1) {\r\n\t\t\tplaylist.owner.display_name = name.split(\".\").join(\" \");\r\n\t\t\tnameOnes.push(playlist);\r\n\t\t} else {\r\n\t\t\tothers.push(playlist);\r\n\t\t}\r\n\t}\r\n\r\n\t// return [...nameOnes, ...others];\r\n\treturn nameOnes;\r\n}\r\n\r\nexport function previousFilter(playlists) {\r\n\tconst previousPlaylistIds = localStorage.getItem(\"previousPlaylists\");\r\n\tconst goodOnes = [];\r\n\tif (!previousPlaylistIds) {\r\n\t\treturn playlists;\r\n\t}\r\n\tfor (var i = 0; i < playlists.length; i++) {\r\n\t\tif (previousPlaylistIds.indexOf(playlists[i].id) === -1) {\r\n\t\t\tgoodOnes.push(playlists[i]);\r\n\t\t}\r\n\t}\r\n\treturn goodOnes;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport axios from \"axios\";\r\nimport { nameFilter, previousFilter } from \"./filters\";\r\n\r\nconst defaultMessage = `Hey {first name},\r\nI stumbled on your {playlist name} playlist on Spotify (if it actually is your playlist) and I really enjoy it!\r\n\r\nA friend of mine, an aspiring instrumental pianist from Edmonton, Canada, recently released a new single that may fit nicely on your playlist! If you want to check it out, it’s called {song name}, a link is below.\r\n\r\nThanks for reading my message and keep up your great taste in music! Sorry for the unsolicited message, but I hope you enjoy the music and have a wonderful day!\r\n\r\nTyler\r\n\r\n{song link}`;\r\n\r\nconst SearchPage = (props) => {\r\n\tlet { token } = props;\r\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\r\n\tconst [playlists, setPlaylists] = useState([]);\r\n\tconst [offset, setOffset] = useState(0);\r\n\tconst [playlistsToKeep, setPlaylistsToKeep] = useState([]);\r\n\tconst [alertOpen, setAlertOpen] = useState(\"none\");\r\n\tconst [badNameCount, setBadNameCount] = useState(0);\r\n\tconst [alreadyGotItCount, setAlreadyGotItCount] = useState(0);\r\n\tconst [searchTotal, setSearchTotal] = useState(0);\r\n\tconst [resultsTableRows, setResultsTableRows] = useState([]);\r\n\tconst [noPicCount, setNoPicCount] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(token);\r\n\t\tdocument.getElementById(\"message\").value =\r\n\t\t\tlocalStorage.getItem(\"message\") || defaultMessage;\r\n\t\tdocument.getElementById(\"user-name\").value =\r\n\t\t\tlocalStorage.getItem(\"userName\") || \"\";\r\n\t\tdocument.getElementById(\"song-name\").value =\r\n\t\t\tlocalStorage.getItem(\"songName\") || \"\";\r\n\t\tdocument.getElementById(\"song-link\").value =\r\n\t\t\tlocalStorage.getItem(\"songLink\") || \"\";\r\n\t}, []);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetSearchTerm(event.target.value);\r\n\t\tconsole.log(event.key);\r\n\t};\r\n\tconst _handleKeyDown = (e) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tsearchTime();\r\n\t\t}\r\n\t};\r\n\r\n\tfunction previousPicksToArray() {\r\n\t\t// Get playlist link text, parse it, and save it to local storage\r\n\t\tlet playlistsText = document.getElementById(\"previous-playlists\").value;\r\n\t\tlet firstHTTP = playlistsText.indexOf(\"https\");\r\n\t\tplaylistsText = playlistsText.substring(firstHTTP);\r\n\t\tlet previousPlaylistIdArray = playlistsText.split(\" \");\r\n\t\tpreviousPlaylistIdArray = previousPlaylistIdArray.map((val, i) => {\r\n\t\t\tconst lastSlash = val.lastIndexOf(\"/\");\r\n\t\t\treturn val.substring(lastSlash + 1);\r\n\t\t});\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"previousPlaylists\",\r\n\t\t\tJSON.stringify(previousPlaylistIdArray)\r\n\t\t);\r\n\t\t// Get owners link text, parse it, and save it to local storage\r\n\t\tlet ownersText = document.getElementById(\"previous-owners\").value;\r\n\t\tfirstHTTP = ownersText.indexOf(\"https\");\r\n\t\townersText = ownersText.substring(firstHTTP);\r\n\t\tlet previousOwnerIdArray = ownersText.split(\" \");\r\n\t\tpreviousOwnerIdArray = previousOwnerIdArray.map((val, i) => {\r\n\t\t\tconst lastSlash = val.lastIndexOf(\"/\");\r\n\t\t\treturn val.substring(lastSlash + 1);\r\n\t\t});\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"previousOwners\",\r\n\t\t\tJSON.stringify(previousOwnerIdArray)\r\n\t\t);\r\n\t\t// Save username, song name, and song link to local storage\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"userName\",\r\n\t\t\tdocument.getElementById(\"user-name\").value\r\n\t\t);\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"songName\",\r\n\t\t\tdocument.getElementById(\"song-name\").value\r\n\t\t);\r\n\t\tlocalStorage.setItem(\r\n\t\t\t\"songLink\",\r\n\t\t\tdocument.getElementById(\"song-link\").value\r\n\t\t);\r\n\t}\r\n\r\n\t// Take a Spotify search query, filter out results, and present what's left\r\n\tasync function searchTime() {\r\n\t\tconsole.log(searchTerm);\r\n\t\tlet playlistsTemp = [];\r\n\t\tlet nextLink;\r\n\t\ttry {\r\n\t\t\tdo {\r\n\t\t\t\tconst res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t`https://api.spotify.com/v1/search?q=${searchTerm}&type=playlist&limit=50&offset=${offset}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// Make sure the response is good\r\n\t\t\t\tnextLink = res.data.playlists.next;\r\n\t\t\t\tplaylistsTemp.push(...res.data.playlists.items);\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetSearchTotal(res.data.playlists.total);\r\n\t\t\t} while (nextLink && playlistsTemp.length < 100);\r\n\t\t} catch (e) {\r\n\t\t\tsetAlertOpen(\"block\");\r\n\t\t}\r\n\t\tconst newOffset = offset + playlistsTemp.length;\r\n\t\tsetOffset(newOffset);\r\n\t\t// Sort and filter\r\n\t\tconst batchSize = playlistsTemp.length;\r\n\t\tconsole.log(batchSize);\r\n\t\tplaylistsTemp = nameFilter(playlistsTemp);\r\n\t\tconst nameFilterCount = batchSize - playlistsTemp.length;\r\n\t\tconsole.log(nameFilterCount);\r\n\t\tsetBadNameCount(nameFilterCount);\r\n\t\tplaylistsTemp = previousFilter(playlistsTemp);\r\n\t\tconst previousFilterCount =\r\n\t\t\tbatchSize - nameFilterCount - playlistsTemp.length;\r\n\t\tconsole.log(previousFilterCount);\r\n\t\tsetAlreadyGotItCount(previousFilterCount);\r\n\t\tlet playlistsToShow = [];\r\n\t\tlet noPicCountTemp = 0;\r\n\t\t// Get user photos\r\n\t\tfor (var i = 0; i < playlistsTemp.length; i++) {\r\n\t\t\tconst playlist = playlistsTemp[i];\r\n\t\t\tconsole.log(i);\r\n\t\t\tlet beans;\r\n\t\t\ttry {\r\n\t\t\t\tbeans = await axios.get(\r\n\t\t\t\t\t`https://api.spotify.com/v1/users/${playlist.owner.id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// If they have a picture, add them to the list\r\n\t\t\tif (beans.data.images.length > 0) {\r\n\t\t\t\tplaylistsToShow.push({\r\n\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\towner: playlist.owner.display_name,\r\n\t\t\t\t\townerId: playlist.owner.id,\r\n\t\t\t\t\timage: beans.data.images[0].url,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tnoPicCountTemp++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetNoPicCount(noPicCountTemp);\r\n\t\tsetPlaylists(playlistsToShow);\r\n\t}\r\n\r\n\t// When you click on a playlist result, search for followers and add it to the list to search on FB\r\n\tconst addToList = async (e) => {\r\n\t\tconst playlistID = e.target.id;\r\n\t\tconst playlistInfo = playlists.find((x) => x.id === playlistID);\r\n\t\tlet newPlaylist = [];\r\n\t\tdocument.getElementById(e.target.id).parentElement.style.opacity = 0.2;\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlistID}`;\r\n\t\t\tres = await axios.get(apiURL, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(\"got data\", res.data.name);\r\n\t\t\t\tlet d = res.data;\r\n\t\t\t\tif (d.followers.total > 3) {\r\n\t\t\t\t\tnewPlaylist = {\r\n\t\t\t\t\t\t...playlistInfo,\r\n\t\t\t\t\t\tplaylist_url: d.external_urls.spotify,\r\n\t\t\t\t\t\towner_url: d.owner.external_urls.spotify,\r\n\t\t\t\t\t\tfollowers: d.followers.total,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsetPlaylistsToKeep([...playlistsToKeep, newPlaylist]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetAlertOpen(\"block\");\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsetAlertOpen(\"block\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst copyMessage = (info) => {\r\n\t\tconst copyText = document.getElementById(\"message\").value;\r\n\t\tconst songName = document.getElementById(\"song-name\").value;\r\n\t\tconst songLink = document.getElementById(\"song-link\").value;\r\n\t\t// Replace all elements\r\n\t\tconst text = copyText\r\n\t\t\t.replace(\"{first name}\", info.owner.split(\" \")[0])\r\n\t\t\t.replace(\"{playlist name}\", info.name)\r\n\t\t\t.replace(\"{song name}\", songName)\r\n\t\t\t.replace(\"{song link}\", songLink);\r\n\r\n\t\tvar textArea = document.createElement(\"textarea\");\r\n\t\ttextArea.style.position = \"fixed\";\r\n\t\ttextArea.style.top = 0;\r\n\t\ttextArea.style.left = 0;\r\n\t\ttextArea.style.width = \"2em\";\r\n\t\ttextArea.style.height = \"2em\";\r\n\t\ttextArea.style.padding = 0;\r\n\t\ttextArea.style.border = \"none\";\r\n\t\ttextArea.style.outline = \"none\";\r\n\t\ttextArea.style.boxShadow = \"none\";\r\n\t\ttextArea.style.background = \"transparent\";\r\n\t\ttextArea.value = text;\r\n\t\tdocument.body.appendChild(textArea);\r\n\t\ttextArea.focus();\r\n\t\ttextArea.select();\r\n\t\ttry {\r\n\t\t\tvar successful = document.execCommand(\"copy\");\r\n\t\t\tvar msg = successful ? \"successful\" : \"unsuccessful\";\r\n\t\t\tconsole.log(\"Copying text command was \" + msg);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(\"Oops, unable to copy\");\r\n\t\t}\r\n\r\n\t\tdocument.body.removeChild(textArea);\r\n\t};\r\n\r\n\tconst getPlaylistsForExport = async () => {\r\n\t\tlet resultsArray = [];\r\n\t\tconst playlistArray = JSON.parse(JSON.stringify(playlistsToKeep));\r\n\t\tfor (var i = 0; i < playlistArray.length; i++) {\r\n\t\t\tconst playlist = playlistArray[i];\r\n\t\t\t// Playlist Name, Playlist Link, Creator Name, Creator Link, Followers, Song, Search Term, FB Link, nothing, attacked (yee), attacked by (inits), nothing, date\r\n\t\t\tresultsArray[i] = (\r\n\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t<td>{playlist.name}</td>\r\n\t\t\t\t\t<td>{playlist.playlist_url}</td>\r\n\t\t\t\t\t<td>{playlist.owner}</td>\r\n\t\t\t\t\t<td>{playlist.owner_url}</td>\r\n\t\t\t\t\t<td>{playlist.followers}</td>\r\n\t\t\t\t\t<td>{document.getElementById(\"song-name\").value}</td>\r\n\t\t\t\t\t<td>{searchTerm}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`fblink-${playlist.id}`)\r\n\t\t\t\t\t\t\t.value || \"nay\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>{\"\"}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`messaged-${playlist.id}`)\r\n\t\t\t\t\t\t\t.checked\r\n\t\t\t\t\t\t\t? \"yee\"\r\n\t\t\t\t\t\t\t: \"nay\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`messaged-${playlist.id}`)\r\n\t\t\t\t\t\t\t.checked\r\n\t\t\t\t\t\t\t? document.getElementById(\"user-name\").value\r\n\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>{\"\"}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{document.getElementById(`messaged-${playlist.id}`)\r\n\t\t\t\t\t\t\t.checked\r\n\t\t\t\t\t\t\t? new Date(Date.now()).toLocaleDateString()\r\n\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetResultsTableRows(resultsArray);\r\n\t};\r\n\r\n\tconst resultCards = playlists.map((playlist) => (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: 220,\r\n\t\t\t\tbackground: \"#ccc\",\r\n\t\t\t\tmargin: 10,\r\n\t\t\t\tpadding: 10,\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t}}\r\n\t\t\tkey={playlist.id}>\r\n\t\t\t<a href={playlist.image} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={playlist.image}\r\n\t\t\t\t\talt=\"FB pic not loading - click to view\"\r\n\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\tid={playlist.id}\r\n\t\t\t\t\tonClick={addToList}\r\n\t\t\t\t/>\r\n\t\t\t</a>\r\n\r\n\t\t\t<p>\r\n\t\t\t\t<strong>{playlist.owner}</strong>\r\n\t\t\t</p>\r\n\t\t\t<p>{playlist.name}</p>\r\n\t\t</div>\r\n\t));\r\n\r\n\tconst playlistsToKeepElements = playlistsToKeep.map((info) => (\r\n\t\t<div\r\n\t\t\tkey={info.id}\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t\tmargin: 10,\r\n\t\t\t}}>\r\n\t\t\t<a href={info.image} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={info.image}\r\n\t\t\t\t\twidth={100}\r\n\t\t\t\t\talt=\"FB pic not loading - click to view\"\r\n\t\t\t\t/>\r\n\t\t\t</a>\r\n\r\n\t\t\t<div style={{ width: \"40%\" }}>\r\n\t\t\t\t<h3 style={{ margin: 2, padding: 5 }}>{info.owner}</h3>\r\n\t\t\t\t<h4 style={{ margin: 2, padding: 5 }}>{info.name}</h4>\r\n\t\t\t\t<p style={{ margin: 2, padding: 5 }}>\r\n\t\t\t\t\t{info.followers} followers\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: \"flex\" }}>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref={`https://www.facebook.com/search/people/?q=${info.owner}`}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\tonClick={() => copyMessage(info)}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tstyle={{ width: 210, marginTop: 8, marginRight: 5 }}\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tJSON.parse(\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"previousOwners\")\r\n\t\t\t\t\t\t\t).indexOf(info.ownerId) > -1\r\n\t\t\t\t\t\t\t\t? \"default\"\r\n\t\t\t\t\t\t\t\t: \"primary\"\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t{JSON.parse(\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"previousOwners\")\r\n\t\t\t\t\t\t).indexOf(info.ownerId) > -1\r\n\t\t\t\t\t\t\t? \"Owner in database\"\r\n\t\t\t\t\t\t\t: \"Search on Facebook\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</a>\r\n\t\t\t\t{/* <br /> */}\r\n\t\t\t\t{/* <input placeholder={\"Paste FB here\"} id={`fblink-${info.id}`} /> */}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t\t\tlabel=\"Paste FB Here\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tid={`fblink-${info.id}`}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tid={`messaged-${info.id}`}\r\n\t\t\t\t\t\tname=\"messaged\"\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tJSON.parse(\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"previousOwners\")\r\n\t\t\t\t\t\t\t).indexOf(info.ownerId) > -1\r\n\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\tMessaged them\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Container fixed style={{ marginTop: 50 }}>\r\n\t\t\t<h3>1. Setup</h3>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}}>\r\n\t\t\t\tGet Spotify token\r\n\t\t\t</Button>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"user-name\"\r\n\t\t\t\tlabel=\"Your Initials\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"song-name\"\r\n\t\t\t\tlabel=\"Promoting Song Name\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"song-link\"\r\n\t\t\t\tlabel=\"Promoting Song Link\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"previous-playlists\"\r\n\t\t\t\tlabel=\"Playlist URLs from spreadsheet\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"previous-owners\"\r\n\t\t\t\tlabel=\"Owner URLs from spreadsheet\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => previousPicksToArray()}>\r\n\t\t\t\tSave Setup\r\n\t\t\t</Button>\r\n\t\t\t<h3>2. Make sure the message looks good</h3>\r\n\t\t\t<TextField\r\n\t\t\t\tstyle={{ width: \"100%\", minHeight: 300 }}\r\n\t\t\t\tlabel=\"Message\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tmultiline\r\n\t\t\t\tid=\"message\"\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\"message\",\r\n\t\t\t\t\t\tdocument.getElementById(\"message\").value\r\n\t\t\t\t\t)\r\n\t\t\t\t}>\r\n\t\t\t\tSave Message\r\n\t\t\t</Button>\r\n\t\t\t<h3>3. Search for playlists on Spotify</h3>\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"outlined-basic\"\r\n\t\t\t\t\tlabel=\"Spotify Search Term\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tstyle={{ width: \"50%\", marginBottom: 20 }}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={_handleKeyDown}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<p style={{ display: offset > 0 ? \"block\" : \"none\" }}>\r\n\t\t\t\t\tGathering 100 playlists out of {searchTotal}... Filtered{\" \"}\r\n\t\t\t\t\t{badNameCount} unlikely names... Filtered{\" \"}\r\n\t\t\t\t\t{alreadyGotItCount} previously logged playlists... Filtered{\" \"}\r\n\t\t\t\t\t{noPicCount} without profile pictures... Returning{\" \"}\r\n\t\t\t\t\t{playlists.length}.\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<h3>4. Pick promising playlists</h3>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackground: \"green\",\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\t\tflexWrap: \"wrap\",\r\n\t\t\t\t\tborderRadius: 20,\r\n\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t}}>\r\n\t\t\t\t{resultCards}\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => searchTime()}>\r\n\t\t\t\tGet 100 more\r\n\t\t\t</Button>\r\n\t\t\t<h3>5. Find and message them on Facebook</h3>\r\n\t\t\t<ol>{playlistsToKeepElements}</ol>\r\n\t\t\t<br />\r\n\r\n\t\t\t<h3>6. Generate text to paste into the tracking spreadsheet</h3>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => getPlaylistsForExport()}>\r\n\t\t\t\tGenerate Copy Text\r\n\t\t\t</Button>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<table style={{ width: \"100%\", border: \"2px solid black\" }}>\r\n\t\t\t\t{resultsTableRows}\r\n\t\t\t</table>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\tdisplay: alertOpen,\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\tbackground: \"red\",\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<p style={{ color: \"white\" }}>\r\n\t\t\t\t\tError with Spotify request - please get new Spotify token\r\n\t\t\t\t\t(step 1)\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default SearchPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useAxios from \"axios-hooks\";\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nimport SearchPage from \"./SearchPage\";\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t\"aria-controls\": `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: \"calc(100vh - 48px)\",\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\tconst [tokenTimeout, setTokenTimout] = useState(user.tokenms - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst tokenTimeoutInterval = setInterval(() => {\r\n\t\t\tsetTokenTimout(user.tokenms - Date.now());\r\n\t\t\tif (tokenTimeout < 1000) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttokenTimeoutInterval.clear();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"Tried to clear interval, could not. Oh well.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 60000);\r\n\t}, []);\r\n\r\n\tconst [{ data, loading, error }] = useAxios({\r\n\t\turl: \"https://api.spotify.com/v1/me\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (loading) {\r\n\t\tconsole.log(\"Loading user...\");\r\n\t}\r\n\r\n\tif (data) {\r\n\t\t// console.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== \"\") {\r\n\t\treturn <SearchPage token={token} />;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you're seeing this, click this button, then refresh the\r\n\t\t\t\t\tpage.\r\n\t\t\t\t</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from \"react\";\r\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport hash from \"./hash\";\r\nimport Main from \"./components/Main\";\r\nimport \"./App.css\";\r\nimport { user } from \"./store\";\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: \"#0a5e54\",\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: \"#ede8e5\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: \"\" }],\r\n\t\t\t\t},\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tartists: [{ name: \"\" }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: \"Paused\",\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem(\"token\");\r\n\r\n\t\tif (hash.access_token) {\r\n\t\t\t// Set to 30 minutes later than now\r\n\t\t\tuser.tokenms = Date.now() + 30 * 60 * 1000;\r\n\t\t}\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"token\", _token);\r\n\t\t\tuser.token = _token;\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\ttextShadow:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0px 5px 10px rgba(0,0,0,0.9)\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tPlaypasting Time\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t\t\"%20\"\r\n\t\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}>\r\n\t\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}